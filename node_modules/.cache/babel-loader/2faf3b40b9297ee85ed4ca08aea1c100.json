{"remainingRequest":"/Users/jp/workspace/hotels-result-currency/node_modules/babel-loader/lib/index.js!/Users/jp/workspace/hotels-result-currency/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jp/workspace/hotels-result-currency/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jp/workspace/hotels-result-currency/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jp/workspace/hotels-result-currency/src/App.vue","mtime":1597386321308},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgQ3VycmVuY3lEcm9wZG93biBmcm9tICcuL2NvbXBvbmVudHMvQ3VycmVuY3lEcm9wZG93bic7CmltcG9ydCBIb3RlbExpc3QgZnJvbSAnLi9jb21wb25lbnRzL0hvdGVsTGlzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaG90ZWxzOiBbXSwKICAgICAgcHJpY2VzOiBudWxsLAogICAgICBjdXJyZW5jeTogJycKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDdXJyZW5jeURyb3Bkb3duOiBDdXJyZW5jeURyb3Bkb3duLAogICAgSG90ZWxMaXN0OiBIb3RlbExpc3QKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ3VycmVuY3lDaGFuZ2U6IGZ1bmN0aW9uIG9uQ3VycmVuY3lDaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy5jdXJyZW5jeSA9IHZhbHVlOwogICAgICB0aGlzLmdldFByaWNlc0J5Q3VycmVueSgpOwogICAgfSwKICAgIGdldFByaWNlc0J5Q3VycmVueTogZnVuY3Rpb24gZ2V0UHJpY2VzQnlDdXJyZW55KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vNWRmOWNjNmNlOWY3OWUwMDE0YjZiM2RjLm1vY2thcGkuaW8vaG90ZWxzL3Rva3lvLzEvIi5jb25jYXQodGhpcy5jdXJyZW5jeSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMucHJpY2VzID0gbmV3IE1hcChyZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuIFtwLmlkLCBwXTsKICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGlmIChsb2NhbFN0b3JhZ2UuY3VycmVuY3kpIHRoaXMuY3VycmVuY3kgPSBsb2NhbFN0b3JhZ2UuY3VycmVuY3k7CiAgICBheGlvcy5nZXQoJ2h0dHBzOi8vNWRmOWNjNmNlOWY3OWUwMDE0YjZiM2RjLm1vY2thcGkuaW8vaG90ZWxzL3Rva3lvJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMyLmhvdGVscyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0UHJpY2VzQnlDdXJyZW55KCk7CiAgfSwKICB3YXRjaDogewogICAgY3VycmVuY3k6IGZ1bmN0aW9uIGN1cnJlbmN5KG5ld0N1cnJlbmN5KSB7CiAgICAgIGxvY2FsU3RvcmFnZS5jdXJyZW5jeSA9IG5ld0N1cnJlbmN5OwogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAYA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,gBAAA,MAAA,+BAAA;AACA,OAAA,SAAA,MAAA,wBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,UAAA,EAAA;AACA,IAAA,gBAAA,EAAA,gBADA;AAEA,IAAA,SAAA,EAAA;AAFA,GATA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,KADA,EACA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,kBAAA;AACA,KAJA;AAKA,IAAA,kBALA,gCAKA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,qEAAA,KAAA,QAAA,GACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,IAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AAAA,SAAA,CAAA,CAAA;AACA,OAHA;AAIA;AAVA,GAbA;AAyBA,EAAA,OAzBA,qBAyBA;AAAA;;AACA,QAAA,YAAA,CAAA,QAAA,EAAA,KAAA,QAAA,GAAA,YAAA,CAAA,QAAA;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,0DAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AACA,KAHA;AAIA,SAAA,kBAAA;AACA,GAhCA;AAiCA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,oBACA,WADA,EACA;AACA,MAAA,YAAA,CAAA,QAAA,GAAA,WAAA;AACA;AAHA;AAjCA,CAAA","sourcesContent":["<template>\n  <div id=\"app\" class=\"container\">\n    <CurrencyDropdown @currencyChange=\"onCurrencyChange\"></CurrencyDropdown>\n    <HotelList class=\"hotel-list\"\n      :hotels=\"hotels\"\n      :prices=\"prices\"\n      :currency=\"currency\"\n    ></HotelList>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport CurrencyDropdown from './components/CurrencyDropdown';\nimport HotelList from './components/HotelList';\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      hotels: [],\n      prices: null,\n      currency: '',\n    };\n  },\n  components: {\n    CurrencyDropdown,\n    HotelList\n  },\n  methods: {\n    onCurrencyChange(value) {\n      this.currency = value;\n      this.getPricesByCurreny();\n    },\n    getPricesByCurreny() {\n      axios.get(`http://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo/1/${this.currency}`)\n        .then(response => {\n          this.prices = new Map(response.data.map(p => [p.id, p]));\n        });\n    }\n  },\n  created() {\n    if(localStorage.currency) this.currency = localStorage.currency;\n    axios.get('https://5df9cc6ce9f79e0014b6b3dc.mockapi.io/hotels/tokyo')\n      .then(response => {\n        this.hotels = response.data\n      });\n    this.getPricesByCurreny();\n  },\n  watch: {\n    currency(newCurrency) {\n      localStorage.currency = newCurrency;\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.hotel-list {\n  margin-top: 30px;\n}\n</style>\n"],"sourceRoot":"src"}]}