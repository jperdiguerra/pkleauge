{"remainingRequest":"/Users/jp/workspace/hotels-result-currency/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jp/workspace/hotels-result-currency/src/components/HotelList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jp/workspace/hotels-result-currency/src/components/HotelList.vue","mtime":1597383219696},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jp/workspace/hotels-result-currency/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIb3RlbEl0ZW0gZnJvbSAnLi9Ib3RlbEl0ZW0nOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb3RlbExpc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIEhvdGVsSXRlbQogIH0sCiAgcHJvcHM6IHsKICAgIGhvdGVsczogQXJyYXksCiAgICBwcmljZXM6IE1hcCwKICAgIGN1cnJlbmN5OiBTdHJpbmcKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzb3J0ZWRIb3RlbHMoKSB7CiAgICAgIGlmKCF0aGlzLnByaWNlcykgcmV0dXJuIFtdOwogICAgICBsZXQgc29ydGVkID0gW107CiAgICAgIGxldCBwcmljZVVuYXZhaWxhYmxlID0gW107CiAgICAgIGZvcihsZXQgaG90ZWwgb2YgdGhpcy5ob3RlbHMpIHsKICAgICAgICBsZXQgaG90ZWxQcmljZXMgPSB0aGlzLmdldFByaWNlKGhvdGVsLmlkKQogICAgICAgIGlmKGhvdGVsUHJpY2VzKSB7CiAgICAgICAgICBob3RlbC5wcmljZXMgPSBob3RlbFByaWNlczsKICAgICAgICAgIHNvcnRlZC5wdXNoKGhvdGVsKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwcmljZVVuYXZhaWxhYmxlLnB1c2goaG90ZWwpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZihwcmljZVVuYXZhaWxhYmxlLmxlbmd0aCA+IDApIHNvcnRlZC5wdXNoKHByaWNlVW5hdmFpbGFibGUpOwogICAgICByZXR1cm4gc29ydGVkLmZsYXQoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByaWNlKGlkKSB7CiAgICAgIHJldHVybiB0aGlzLnByaWNlcyA/IHRoaXMucHJpY2VzLmdldChpZCkgOiB7fTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["HotelList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HotelList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <ul class=\"list-group\">\n    <HotelItem\n      v-for=\"hotel in hotels\"\n      :key=\"hotel.id\"\n      :hotel=\"hotel\"\n      :prices=\"getPrice(hotel.id)\"\n      :currency=\"currency\"\n    >  \n    </HotelItem>\n  </ul>\n</template>\n\n<script>\nimport HotelItem from './HotelItem';\n\nexport default {\n  name: \"HotelList\",\n  components: {\n    HotelItem\n  },\n  props: {\n    hotels: Array,\n    prices: Map,\n    currency: String\n  },\n  computed: {\n    sortedHotels() {\n      if(!this.prices) return [];\n      let sorted = [];\n      let priceUnavailable = [];\n      for(let hotel of this.hotels) {\n        let hotelPrices = this.getPrice(hotel.id)\n        if(hotelPrices) {\n          hotel.prices = hotelPrices;\n          sorted.push(hotel)\n        } else {\n          priceUnavailable.push(hotel);\n        }\n      }\n      if(priceUnavailable.length > 0) sorted.push(priceUnavailable);\n      return sorted.flat();\n    }\n  },\n  methods: {\n    getPrice(id) {\n      return this.prices ? this.prices.get(id) : {};\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}